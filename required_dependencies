#!/bin/bash
set -e
# to script is run as root
if [ "$(id -u)" -ne 0 ]; then
echo "Please run this script as root (use sudo)."
exit 1
fi
# update and upgrade the system
echo "Updating system packages..."
apt update && apt upgrade -y
# required packages
echo "Installing required packages: Python3, PyQt5, and v4l-utils..."
apt install -y python3 python3-pyqt5 v4l-utils
# ir-keytable is available
if ! command -v ir-keytable &> /dev/null; then
echo "Error: ir-keytable installation failed."
exit 1
fi
# terminal emulator is available
TERMINAL=$(which lxterminal || which xterm || which gnome-terminal || which
konsole || which xfce4-terminal || which terminator || which mate-terminal)
if [ -z "$TERMINAL" ]; then
echo "No suitable terminal emulator found. Installing lxterminal..."
apt install -y lxterminal

42

fi
# environment setup
echo "Setup complete! You can now run the IR Keytable GUI."
echo "Usage: python3 ir_keytable_gui.py"
exit 0
